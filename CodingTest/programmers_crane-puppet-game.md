# ν¬λ μΈ μΈν•λ½‘κΈ° κ²μ„

### π‘‰ λ°”λ΅κ°€κΈ°

- [1. κ°μ”](#1-κ°μ”)
- [2. λ¬Έμ μ„¤λ…](#2-λ¬Έμ -μ„¤λ…)
  - [2-1. λ¬Έμ  μ„¤λ… - μ ν•μ‚¬ν•­](#2-1-λ¬Έμ -μ„¤λ…---μ ν•μ‚¬ν•­)
  - [2-2. λ¬Έμ μ„¤λ… - μ…μ¶λ ¥ μ](#2-2-λ¬Έμ μ„¤λ…---μ…μ¶λ ¥-μ)
  - [2-3. λ¬Έμ  μ„¤λ… - μ…μ¶λ ¥ μμ— λ€ν• μ„¤λ…](#2-3-λ¬Έμ -μ„¤λ…---μ…μ¶λ ¥-μμ—-λ€ν•-μ„¤λ…)
- [3. λ¬Έμ  ν’€μ΄](#3-λ¬Έμ -ν’€μ΄)
  - [1) λ½‘ν μΈν•μ„ λ„£μ„ λ°”κµ¬λ‹](#1-λ½‘ν-μΈν•μ„-λ„£μ„-λ°”κµ¬λ‹)
  - [2) μ‚¬λΌμ§„ μΈν•μ κ°μ](#2-μ‚¬λΌμ§„-μΈν•μ-κ°μ)
  - [3) μΈν•μ„ λ½‘μ„ μ—΄](#3-μΈν•μ„-λ½‘μ„-μ—΄)
  - [4) μΈν•μ„ basketλ°°μ—΄μ— μ¶”κ°€ν•κ³  boradμ— ν•΄λ‹Ή μΈν•μ„ μ κ±°](#4-μΈν•μ„-basketλ°°μ—΄μ—-μ¶”κ°€ν•κ³ -boradμ—-ν•΄λ‹Ή-μΈν•μ„-μ κ±°)
  - [5) μΈν•μ΄ μμ„ κ²½μ°](#5-μΈν•μ΄-μμ„-κ²½μ°)
  - [6) λΉ λ°”κµ¬λ‹μΌ κ²½μ°](#6-λΉ-λ°”κµ¬λ‹μΌ-κ²½μ°)
  - [7) λΉ λ°”κµ¬λ‹κ°€ μ•„λ‹ κ²½μ°](#7-λΉ-λ°”κµ¬λ‹κ°€-μ•„λ‹-κ²½μ°)
  - [8) λ°”κµ¬λ‹μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό κ°™μ„ κ²½μ°](#8-λ°”κµ¬λ‹μ—-λ§μ§€λ§‰μ—-λ‹΄κΈ΄-μΈν•κ³Ό-κ°™μ„-κ²½μ°)
  - [9) λ°”κµ¬λ‹μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό λ‹¤λ¥Ό κ²½μ°](#9-λ°”κµ¬λ‹μ—-λ§μ§€λ§‰μ—-λ‹΄κΈ΄-μΈν•κ³Ό-λ‹¤λ¥Ό-κ²½μ°)
  - [κ²°κ³Ό](#κ²°κ³Ό)
- [4. Refactoring](#4-refactoring)
- [5. λ‹¤λ¥Έ μ‚¬λμ ν’€μ΄](#5-λ‹¤λ¥Έ-μ‚¬λμ-ν’€μ΄)
- [6. Conclusion](#6-conclusion)

---

## 1. κ°μ”

- ν”„λ΅κ·Έλλ¨Έμ¤
- Lv.1
- 2019 μΉ΄μΉ΄λ΅ κ°λ°μ κ²¨μΈ μΈν„΄μ‹­

---

## 2. λ¬Έμ  μ„¤λ…

κ²μ„κ°λ°μμΈ "μ£ λ¥΄λ””"λ” ν¬λ μΈ μΈν•λ½‘κΈ° κΈ°κ³„λ¥Ό λ¨λ°”μΌ κ²μ„μΌλ΅ λ§λ“¤λ ¤κ³  ν•©λ‹λ‹¤.
"μ£ λ¥΄λ””"λ” κ²μ„μ μ¬λ―Έλ¥Ό λ†’μ΄κΈ° μ„ν•΄ ν™”λ©΄ κµ¬μ„±κ³Ό κ·μΉ™μ„ λ‹¤μκ³Ό κ°™μ΄ κ²μ„ λ΅μ§μ— λ°μν•λ ¤κ³  ν•©λ‹λ‹¤.

![ν¬λ μΈ μΈν•λ½‘κΈ° κ²μ„ img1](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/69f1cd36-09f4-4435-8363-b71a650f7448/crane_game_101.png)

κ²μ„ ν™”λ©΄μ€ "1 x 1" ν¬κΈ°μ μΉΈλ“¤λ΅ μ΄λ£¨μ–΄μ§„ "N x N" ν¬κΈ°μ μ •μ‚¬κ° κ²©μμ΄λ©° μ„μ½μ—λ” ν¬λ μΈμ΄ μκ³  μ¤λ¥Έμ½μ—λ” λ°”κµ¬λ‹κ°€ μμµλ‹λ‹¤. (μ„ κ·Έλ¦Όμ€ "5 x 5" ν¬κΈ°μ μμ‹μ…λ‹λ‹¤). κ° κ²©μ μΉΈμ—λ” λ‹¤μ–‘ν• μΈν•μ΄ λ“¤μ–΄ μμΌλ©° μΈν•μ΄ μ—†λ” μΉΈμ€ λΉμΉΈμ…λ‹λ‹¤. λ¨λ“  μΈν•μ€ "1 x 1" ν¬κΈ°μ κ²©μ ν• μΉΈμ„ μ°¨μ§€ν•λ©° κ²©μμ κ°€μ¥ μ•„λ μΉΈλ¶€ν„° μ°¨κ³΅μ°¨κ³΅ μ“μ—¬ μμµλ‹λ‹¤. κ²μ„ μ‚¬μ©μλ” ν¬λ μΈμ„ μΆμ°λ΅ μ›€μ§μ—¬μ„ λ©μ¶ μ„μΉμ—μ„ κ°€μ¥ μ„μ— μλ” μΈν•μ„ μ§‘μ–΄ μ¬λ¦΄ μ μμµλ‹λ‹¤. μ§‘μ–΄ μ¬λ¦° μΈν•μ€ λ°”κµ¬λ‹μ— μ“μ΄κ² λλ” λ°, μ΄λ• λ°”κµ¬λ‹μ κ°€μ¥ μ•„λ μΉΈλ¶€ν„° μΈν•μ΄ μμ„λ€λ΅ μ“μ΄κ² λ©λ‹λ‹¤. λ‹¤μ κ·Έλ¦Όμ€ [1λ², 5λ², 3λ²] μ„μΉμ—μ„ μμ„λ€λ΅ μΈν•μ„ μ§‘μ–΄ μ¬λ ¤ λ°”κµ¬λ‹μ— λ‹΄μ€ λ¨μµμ…λ‹λ‹¤.

![ν¬λ μΈ μΈν•λ½‘κΈ° κ²μ„ img2](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/638e2162-b1e4-4bbb-b0d7-62d31e97d75c/crane_game_102.png)

λ§μ•½ κ°™μ€ λ¨μ–‘μ μΈν• λ‘ κ°κ°€ λ°”κµ¬λ‹μ— μ—°μ†ν•΄μ„ μ“μ΄κ² λλ©΄ λ‘ μΈν•μ€ ν„°λ¨λ ¤μ§€λ©΄μ„ λ°”κµ¬λ‹μ—μ„ μ‚¬λΌμ§€κ² λ©λ‹λ‹¤. μ„ μƒνƒμ—μ„ μ΄μ–΄μ„ [5λ²] μ„μΉμ—μ„ μΈν•μ„ μ§‘μ–΄ λ°”κµ¬λ‹μ— μ“μΌλ©΄ κ°™μ€ λ¨μ–‘ μΈν• λ‘ κ°κ°€ μ—†μ–΄μ§‘λ‹λ‹¤.

![ν¬λ μΈ μΈν•λ½‘κΈ° κ²μ„ img3](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/8569d736-091e-4771-b2d3-7a6e95a20c22/crane_game_103.gif)

ν¬λ μΈ μ‘λ™ μ‹ μΈν•μ΄ μ§‘μ–΄μ§€μ§€ μ•λ” κ²½μ°λ” μ—†μΌλ‚ λ§μ•½ μΈν•μ΄ μ—†λ” κ³³μ—μ„ ν¬λ μΈμ„ μ‘λ™μ‹ν‚¤λ” κ²½μ°μ—λ” μ•„λ¬΄λ° μΌλ„ μΌμ–΄λ‚μ§€ μ•μµλ‹λ‹¤. λν• λ°”κµ¬λ‹λ” λ¨λ“  μΈν•μ΄ λ“¤μ–΄κ° μ μμ„ λ§νΌ μ¶©λ¶„ν ν¬λ‹¤κ³  κ°€μ •ν•©λ‹λ‹¤. (κ·Έλ¦Όμ—μ„λ” ν™”λ©΄ν‘μ‹ μ μ•½μΌλ΅ 5μΉΈλ§μΌλ΅ ν‘ν„ν•μ€μ)

κ²μ„ ν™”λ©΄μ κ²©μμ μƒνƒκ°€ λ‹΄κΈ΄ 2μ°¨μ› λ°°μ—΄ boardμ™€ μΈν•μ„ μ§‘κΈ° μ„ν•΄ ν¬λ μΈμ„ μ‘λ™μ‹ν‚¨ μ„μΉκ°€ λ‹΄κΈ΄ λ°°μ—΄ movesκ°€ λ§¤κ°λ³€μλ΅ μ£Όμ–΄μ§ λ•, ν¬λ μΈμ„ λ¨λ‘ μ‘λ™μ‹ν‚¨ ν›„ ν„°νΈλ ¤μ Έ μ‚¬λΌμ§„ μΈν•μ κ°μλ¥Ό return ν•λ„λ΅ solution ν•¨μλ¥Ό μ™„μ„±ν•΄μ£Όμ„Έμ”.

---

### 2-1. λ¬Έμ  μ„¤λ… - μ ν•μ‚¬ν•­

- board λ°°μ—΄μ€ 2μ°¨μ› λ°°μ—΄λ΅ ν¬κΈ°λ” "5 x 5" μ΄μƒ "30 x 30" μ΄ν•μ…λ‹λ‹¤.
- boardμ κ° μΉΈμ—λ” 0 μ΄μƒ 100 μ΄ν•μΈ μ •μκ°€ λ‹΄κ²¨μμµλ‹λ‹¤.

  - 0μ€ λΉ μΉΈμ„ λ‚νƒ€λƒ…λ‹λ‹¤.
  - 1 ~ 100μ κ° μ«μλ” κ°κΈ° λ‹¤λ¥Έ μΈν•μ λ¨μ–‘μ„ μλ―Έν•λ©° κ°™μ€ μ«μλ” κ°™μ€ λ¨μ–‘μ μΈν•μ„ λ‚νƒ€λƒ…λ‹λ‹¤.

- moves λ°°μ—΄μ ν¬κΈ°λ” 1 μ΄μƒ 1,000 μ΄ν•μ…λ‹λ‹¤.
- moves λ°°μ—΄ κ° μ›μ†λ“¤μ κ°’μ€ 1 μ΄μƒμ΄λ©° board λ°°μ—΄μ κ°€λ΅ ν¬κΈ° μ΄ν•μΈ μμ—°μμ…λ‹λ‹¤.

---

### 2-2. λ¬Έμ μ„¤λ… - μ…μ¶λ ¥ μ

| board                                                         | moves             | result |
| ------------------------------------------------------------- | ----------------- | ------ |
| [[0,0,0,0,0],[0,0,1,0,3],[0,2,5,0,1],[4,2,4,4,2],[3,5,1,3,1]] | [1,5,3,5,1,2,1,4] | 4      |

---

### 2-3. λ¬Έμ  μ„¤λ… - μ…μ¶λ ¥ μμ— λ€ν• μ„¤λ…

μ…μ¶λ ¥ μ #1

μΈν•μ μ²μ μƒνƒλ” λ¬Έμ μ— μ£Όμ–΄μ§„ μμ‹μ™€ κ°™μµλ‹λ‹¤. ν¬λ μΈμ΄ [1, 5, 3, 5, 1, 2, 1, 4] λ² μ„μΉμ—μ„ μ°¨λ΅€λ€λ΅ μΈν•μ„ μ§‘μ–΄μ„ λ°”κµ¬λ‹μ— μ®κ²¨ λ‹΄μ€ ν›„, μƒνƒλ” μ•„λ κ·Έλ¦Όκ³Ό κ°™μΌλ©° λ°”κµ¬λ‹μ— λ‹΄λ” κ³Όμ •μ—μ„ ν„°νΈλ ¤μ Έ μ‚¬λΌμ§„ μΈν•μ€ 4κ° μ…λ‹λ‹¤.

![ν¬λ μΈ μΈν•λ½‘κΈ° κ²μ„ img4](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/bb0f59c7-6b72-485a-8302-217fe53ea88f/crane_game_104.jpg)

## 3. λ¬Έμ  ν’€μ΄

```js
function solution(board, moves) {
  const basket = []; // 1) λ½‘ν μΈν•μ„ λ„£μ„ λ°”κµ¬λ‹
  var answer = 0; // 2) μ‚¬λΌμ§„ μΈν•μ μ

  for (i = 0; i < moves.length; i++) {
    const yIndex = moves[i] - 1; // 3) μΈν•μ„ λ½‘μ„ μ—΄

    for (k = 0; k < board.length; k++) {
      // 4) μΈν•μ„ basketλ°°μ—΄μ— μ¶”κ°€ν•κ³  boradμ— ν•΄λ‹Ή μΈν•μ„ μ κ±°
      const pushItem = () => {
        basket.push(board[k][yIndex]);
        board[k][yIndex] = 0;
      };

      // 5) μΈν•μ΄ μμ„ κ²½μ°
      if (board[k][yIndex] !== 0) {
        // 6) λΉ λ°”κµ¬λ‹μΌ κ²½μ°
        if (basket.length === 0) {
          pushItem();
          break;

          // 7) λΉ λ°”κµ¬λ‹κ°€ μ•„λ‹ κ²½μ°
        } else {
          // 8) λ°”κµ¬λ‹μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό κ°™μ„ κ²½μ°
          if (basket[basket.length - 1] === board[k][yIndex]) {
            basket.pop();
            board[k][yIndex] = 0;
            answer += 2;
            break;

            // 9) λ°”κµ¬λ‹μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό λ‹¤λ¥Ό κ²½μ°
          } else {
            pushItem();
            break;
          }
        }
      }
    }
  }

  return answer;
}
```

---

### 1) λ½‘ν μΈν•μ„ λ„£μ„ λ°”κµ¬λ‹

μƒλ΅­κ² λ½‘ν μΈν•κ³Ό μ΄λ―Έ λ½‘ν μΈν•μ„ λΉ„κµν•κΈ° μ„ν•΄μ„λ” λ½‘ν μΈν•μ΄ λ“¤μ–΄μλ” λ°°μ—΄μ΄ ν•„μ”ν•λ‹¤. μ΄λ¥Ό μ„ν•΄ μ•„λμ™€ κ°™μ΄ λ½‘ν μΈν•μ„ λ„£μ„ μ μλ” λΉ λ°°μ—΄μ„ `basket`μ΄λΌλ” λ³€μλ΅ μ„ μ–Έν•λ‹¤. μ΄ν›„ `basket`μ— `Array.push()` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ½‘ν μΈν•μ„ μ €μ¥ν•λ‹¤.

```js
const basket = [];
```

---

### 2) μ‚¬λΌμ§„ μΈν•μ κ°μ

μΈν•μ΄ λ½‘ν”μ§€λ§ `basket`μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό κ°™μ„ κ²½μ° μƒλ΅ λ½‘ν μΈν•κ³Ό λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•μ΄ μ‚¬λΌμ§€κ² λλ‹¤. κ·Έλ¦¬κ³  μ‚¬λΌμ§„ μΈν•μ μλ¥Ό `anwser`μ— μΉ΄μ΄νΈ λλ‹¤. μ΄λ¥Ό μ„ν•΄ μ•„λμ™€ κ°™μ΄ `anwser`μ„ μ„ μ–Έν•λ‹¤.

```js
var answer = 0;
```

---

### 3) μΈν•μ„ λ½‘μ„ μ—΄

`solution`ν•¨μμ `moves`νλΌλ―Έν„°λ” λ°°μ—΄μ΄λ©° κ° μ›μ†λ” μ–΄λ–¤ μ—΄μ—μ„ μΈν•μ„ λ½‘μ„ μ§€μ— λ€ν• μ •λ³΄κ°€ λ“¤μ–΄μλ‹¤.

- 1: μ²« λ²μ§Έ μ—΄μ—μ„ μΈν•μ„ λ½‘λ”λ‹¤.
- 4: λ„¤ λ²μ§Έ μ—΄μ—μ„ μΈν•μ„ λ½‘λ”λ‹¤.

`moves`λ°°μ—΄μ κ°κ°μ μ›μ†λ¥Ό λ°λ³µλ¬ΈμΌλ΅ λλ©° λλ‹¤λ¥Έ νλΌλ―Έν„°μΈ `borad`μ—μ„ μ΅°κ±΄μ— λ§λ” μΈν•μ„ λ½‘μ•„ `basket`μ— μ €μ¥μ„ ν•΄μ•Όν•λ‹¤.

μ΄λ• `board`μ κ°κ°μ μ›μ†λ“¤μ΄ λν• λ°°μ—΄μΈλ° μ΄ λ°°μ—΄μ—μ„ λ‡ λ²μ§Έμ κ°’μ„ λΉ„κµν•μ—¬ μ €μ¥ν• μ§€λ¥Ό μ•κΈ° μ„ν•΄ μ•„λμ™€ κ°™μ΄ λ³€μλ¥Ό μ„ μ–Έν•λ‹¤.

```js
const yIndex = moves[i] - 1;
```

μ—¬κΈ°μ„ `-1`λ¥Ό ν•λ” μ΄μ λ” λ°°μ—΄μ€ `0`λ¶€ν„° μμ„κ°€ λ§¤κ²¨μ§€κΈ° λ•λ¬Έμ΄λ‹¤.

---

### 4) μΈν•μ„ basketλ°°μ—΄μ— μ¶”κ°€ν•κ³  boradμ— ν•΄λ‹Ή μΈν•μ„ μ κ±°

`pushItem`ν•¨μλ” μ΅°κ±΄μ— λ§λ” μΈν•(λ½‘ν μΈν•)μ΄ μμ„ κ²½μ° `basket`μ— μ €μ¥ν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤. λ½‘ν μΈν•μ€ κ°’μ΄ 0μ΄ λμ–΄μ•Ό ν•λ‹¤. μ•„λμ™€ κ°™μ΄ `pushItem`ν•¨μλ¥Ό μ •μν•λ‹¤.

```js
const pushItem = () => {
  basket.push(board[k][yIndex]);
  board[k][yIndex] = 0;
};
```

- k: `borad`μ—μ„ μΈµμ„ μλ―Έν•λ‹¤. λ§¨ μ—μΈµλ¶€ν„° μ‹μ‘ν•λ‹¤.
- yIndex: `borad`μ—μ„ μ—΄μ„ μλ―Έν•λ‹¤. μ„μ—μ„ μ„ μ–Έν• κ°’μ΄ λ“¤μ–΄μ¨λ‹¤.

---

### 5) μΈν•μ΄ μμ„ κ²½μ°

μΈν•μ΄ μ—†μ„ κ²½μ° μ¦‰, `board[k][yIndex]`μ κ°’μ΄ 0μΈ κ²½μ°λ” μ μ™Έν•λ‹¤.

```js
if (board[k][yIndex] !== 0) {
}
```

---

### 6) λΉ λ°”κµ¬λ‹μΌ κ²½μ°

λΉ λ°”κµ¬λ‹μΈ κ²½μ° μ¦‰, `basket`λ°°μ—΄μ— μ•„λ¬΄λ° κ°’μ΄ μ—†λ” κ²½μ°(κΈΈμ΄κ°€ 0μΈ κ²½μ°)λ” μ΄μ „κ°’κ³Ό λΉ„κµν•  ν•„μ” μ—†μ΄ λ°”λ΅ λ½‘ν μΈν•μ„ `basket`μ— μ €μ¥ν•λ©΄ λλ‹¤.

```js
if (basket.length === 0) {
    pushItem();
    break;
}
```

`break`λ¥Ό μ‹¤ν–‰ν•λ” μ΄μ λ” μƒλ΅μ΄ μΈν•μ΄ `basket`μ— μ €μ¥λμ—κΈ° λ•λ¬Έμ— λ” μ΄μƒ λ°λ³µλ¬Έμ„ μ§„ν–‰ν•  ν•„μ”κ°€ μ—†κΈ° λ•λ¬Έμ— λΉ μ Έλ‚μ¤κΈ° μ„ν•΄μ„μ΄λ‹¤.

---

### 7) λΉ λ°”κµ¬λ‹κ°€ μ•„λ‹ κ²½μ°

λΉ λ°”κµ¬λ‹κ°€ μ•„λ‹ κ²½μ°μ—λ” λ‘ κ°€μ§€μ κ²½μ°μ μλ¥Ό μƒκ°ν•΄μ•Ό ν•λ‹¤. μ²« λ²μ§Έ κ²½μ°λ” `basket`μ λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό μƒλ΅ λ½‘ν μΈν•μ΄ κ°™μ€ κ²½μ°μ΄κ³  λ‘ λ²μ§Έ κ²½μ°λ” μ„λ΅ κ°™μ§€ μ•λ” κ²½μ°μ΄λ‹¤.

---

### 8) λ°”κµ¬λ‹μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό κ°™μ„ κ²½μ°

λ¨Όμ € μ²« λ²μ§Έ κ²½μ°μ΄λ‹¤. μ΄λ•μ—λ” λ½‘ν μΈν•μ΄ `basket`μ— μ €μ¥λμ§€ μ•κ³  `basket`μ λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό μƒλ΅ λ½‘ν μΈν•μ΄ λ¨λ‘ μ‚¬λΌμ§€λ©΄μ„ `answer`μ κ°’μ΄ 2μ¦κ°€ν•΄μ•Ό ν•λ‹¤. μ΄λ¥Ό μ„ν•΄ μ•„λμ™€ κ°™μ΄ μ½”λ“λ¥Ό μ‘μ„±ν•λ‹¤.

```js
if (basket[basket.length - 1] === board[k][yIndex]) {
    basket.pop();
    board[k][yIndex] = 0;
    answer += 2;
    break;
}
```

1. `basket[basket.length - 1] === board[k][yIndex]`λ¥Ό ν†µν•΄ λΉ„κµ
2. `Array.pop()` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•΄ `basket`μ λ§μ§€λ§‰ μ›μ†λ¥Ό μ κ±°
3. μΈν•μ΄ μ‚¬λΌμ§€κΈ΄ ν–μ§€λ§ λ½‘ν”μΌλ―€λ΅ `board[k][yIndex] = 0;`λ¥Ό ν†µν•΄ 0μΌλ΅ μμ •
4. `answer`μ κ°’μ„ 2μ¦κ°€
5. `break`λ¥Ό ν†µν•΄ λ°λ³µλ¬Έ μΆ…λ£

---

### 9) λ°”κµ¬λ‹μ— λ§μ§€λ§‰μ— λ‹΄κΈ΄ μΈν•κ³Ό λ‹¤λ¥Ό κ²½μ°

λ‘ λ²μ§Έ κ²½μ°λ” `6) λΉ λ°”κµ¬λ‹μΌ κ²½μ°`μ™€ κ°™μ€ λ΅μ§μ΄ μ‹¤ν–‰λλ‹¤.

```js
pushItem();
break;
```

---

### κ²°κ³Ό

![programmers_crane-puppet-game_result](../image/CodingTest/programmers_crane-puppet-game/programmers_crane-puppet-game_result.png)

---

## 4. Refactoring

λ‚λ” `basket`μ΄ λΉ„μ–΄μμ„ λ•μ™€ λΉ„μ–΄μμ§€ μ•μ„ λ•λ¥Ό λ”°λ΅ λ‚λ„μ–΄μ„ μ½”λ“λ¥Ό μ‘μ„±ν–λ‹¤. ν•μ§€λ§ `basket`μ΄ λΉ λ°°μ—΄μ΄ λ•μ μ²« λ²μ§Έ κ°’μ€ μ •μλμ–΄ μμ§€ μ•κΈ° λ•λ¬Έμ— μƒλ΅­κ² λ½‘ν μΈν•κ³Ό λΉ„κµν•λ©΄ λ‘ κ°λ” μ„λ΅ κ°™μ§€ μ•λ‹¤.

μ¦‰, `basket`μ΄ λΉλ°°μ—΄μΈ κ²½μ° `basket[basket.length - 1] === board[k][yIndex]`μ κ°’μ€ `false`κ°€ λλ‹¤. κ·Έλ¬λ―€λ΅ κµ³μ΄ `basket`μ΄ λΉλ°°μ—΄μΌ λ•μ•„ μ•„λ‹ λ•λ¥Ό λ‚λ ν•„μ”κ°€ μ—†λ‹¤.

μ•„λμ μ‚¬μ§„μ„ μ°Έκ³ 
![programmers_crane-puppet-game_emptyArr](../image/CodingTest/programmers_crane-puppet-game/programmers_crane-puppet-game_emptyArr.png)

λν• `pushItem`ν•¨μλ¥Ό μ •μν• μ΄μ λ” κ°™μ€ μ½”λ“κ°€ λ‘ λ² μ‚¬μ©λκΈ° λ•λ¬Έμ΄λ‹¤. `basket`μ΄ λΉλ°°μ—΄μΌ λ•μ μ΅°κ±΄λ¬Έμ„ μ κ±°ν•λ©΄ κµ³μ΄ `pushItem`ν•¨μλ¥Ό μ •μν•μ§€ μ•μ•„λ„ λλ‹¤. κ·Έλμ„ μ•„λμ™€ κ°™μ΄ μ½”λ“λ¥Ό μΆ€ λ” κ°„κ²°ν•κ² μ‘μ„±ν•  μ μλ‹¤.

```js
function solution(board, moves) {
  const basket = [];
  var answer = 0;

  for (i = 0; i < moves.length; i++) {
    const zIndex = moves[i] - 1;
    for (k = 0; k < board.length; k++) {
      if (board[k][zIndex] !== 0) {
        if (basket[basket.length - 1] === board[k][zIndex]) {
          basket.pop();
          answer = answer + 2;
        } else {
          basket.push(board[k][zIndex]);
        }
        board[k][zIndex] = 0;
        break;
      }
    }
  }
  return answer;
}
```

---

## 5. λ‹¤λ¥Έ μ‚¬λμ ν’€μ΄

### λ°•λ―Όμλ‹μ ν’€μ΄

```js
const transpose = (matrix) =>
  matrix.reduce(
    (result, row) => row.map((_, i) => [...(result[i] || []), row[i]]),
    []
  );

const solution = (board, moves) => {
  const stacks = transpose(board).map((row) =>
    row.reverse().filter((el) => el !== 0)
  );
  const basket = [];
  let result = 0;

  for (const move of moves) {
    const pop = stacks[move - 1].pop();
    if (!pop) continue;
    if (pop === basket[basket.length - 1]) {
      basket.pop();
      result += 2;
      continue;
    }
    basket.push(pop);
  }

  return result;
};
```

`transspose`ν•¨μκ°€ λμ— λλ‹¤. μ–΄λ–¤ ν•¨μμ΄λ©° κ²°κ³Όκ°’μ΄ μ–΄λ–¤μ§€ μ•μ•„λ³΄μ. ν•΄λ‹Ή ν•¨μλ” νλΌλ―Έν„°λ΅ matrixλ¨μ–‘μ λ°°μ—΄μ„ λ°›λ”λ‹¤. κ·Έλ¦¬κ³  λ°›μ€ λ°°μ—΄μ„ `Array.reduce()`λ©”μ„λ“λ¥Ό μ‚¬μ©ν•΄ μƒλ΅μ΄ λ°°μ—΄μ„ λ°ν™ν•λ‹¤.

λν• `Array.reduce()`λ©”μ„λ“μ μ½λ°±ν•¨μμ—μ„ `Array.map()`λ©”μ„λ“κ°€ μ‹¤ν–‰λκ³  μλ‹¤. μ—¬κΈ°μ„λ” `row(ν„μ¬ λ°›κ³  μλ” λ°°μ—΄μ μ›μ†)`λ°°μ—΄μ΄ κ°κ°μ μ›μ†λ¥Ό κ°€μ§€κ³  λ°λ³µμ„ ν†µν•΄ λ°°μ—΄μ„ λ΄”ν•ν•κ³  μλ‹¤.

μμ‹λ΅ `[[0,0,0,0,0],[0,0,1,0,3],[0,2,5,0,1],[4,2,4,4,2],[3,5,1,3,1]]`λ¥Ό νλΌλ―Έν„°λ΅ λ°›κ³  `Array.reduce()`λ©”μ„λ“κ°€ μ‹¤ν–‰λλ” κ³Όμ •μ„ μ‚΄ν΄λ³΄μ.

| νΈμ¶μμ„   | acc(result)                                         | cur(row)    | λ°ν™κ°’                                                        |
| ---------- | --------------------------------------------------- | ----------- | ------------------------------------------------------------- |
| 1λ²μ§Έ νΈμ¶ | []                                                  | [0,0,0,0,0] | [[0],[0],[0],[0],[0]]                                         |
| 2λ²μ§Έ νΈμ¶ | [[0],[0],[0],[0],[0]]                               | [0,0,1,0,3] | [[0,0],[0,0],[0,1],[0,0],[0,3]]                               |
| 3λ²μ§Έ νΈμ¶ | [[0,0],[0,0],[0,1],[0,0],[0,3]]                     | [0,2,5,0,1] | [[0,0,0],[0,0,2],[0,1,5],[0,0,0],[0,3,1]]                     |
| 4λ²μ§Έ νΈμ¶ | [[0,0,0],[0,0,2],[0,1,5],[0,0,0],[0,3,1]]           | [4,2,4,4,2] | [[0,0,0,4],[0,0,2,2],[0,1,5,4],[0,0,0,4],[0,3,1,2]]           |
| 5λ²μ§Έ νΈμ¶ | [[0,0,0,4],[0,0,2,2],[0,1,5,4],[0,0,0,4],[0,3,1,2]] | [3,5,1,3,1] | [[0,0,0,4,3],[0,0,2,2,5],[0,1,5,4,1],[0,0,0,4,3],[0,3,1,2,1]] |

ν•΄λ‹Ή κ³Όμ •μ„ ν†µν•΄ matrixλ°°μ—΄μ΄ μ–΄λ–»κ² λ°”λ€μ—λ‚? matrixλ” rowκ³Ό columnμ΄μλ‹¤. λ¬Έμ μ—μ„μ `board`λν• matrixλ¨μ–‘μ„ κ°€μ§€κ³  μλ” 2μ°¨μ› λ°°μ—΄μ΄λ‹¤. κ°κ°μ λ°°μ—΄μ€ ν•λ‚μ `row`μ— ν•΄λ‹Ήλλ‹¤. ν•μ§€λ§ `transpose`ν•¨μλ΅ μΈν•΄ κ°κ°μ λ°°μ—΄μ€ `row`κ°€ μ•„λ‹λΌ ν•λ‚μ `column`μ— ν•΄λ‹Ήν•κ² λλ‹¤.

κ·Έλ¦ΌμΌλ΅ ν‘ν„ν•λ©΄ μ•„λμ™€ κ°™λ‹¤.

![programmers_crane-puppet-game_transpose](../image/CodingTest/programmers_crane-puppet-game/programmers_crane-puppet-game_transpose.jpg)

μ¦‰, μΈν•μ„ μ„μ—μ„ λ½‘λ” κ²ƒμ΄κΈ° λ•λ¬Έμ— νΈν•κ² κ°κ°μ λ°°μ—΄μ„ `column`μΌλ΅ κ΄€λ¦¬λ¥Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤.

κ·Έ λ‹¤μμΌλ΅ μ•„λμ μ½”λ“λ¥Ό λ¶„μ„ν•΄λ³΄μ.

```js
const stacks = transpose(board).map((row) =>
  row.reverse().filter((el) => el !== 0)
);
```

μΈν•μ„ λ½‘κΈ°μ„ν•΄ `stacks`μ΄λΌλ” λ³€μλ¥Ό λ§λ“¤μ—λ‹¤. κΈ°κ³„μ μ…μ¥μ—μ„λ” μΈν•μ„ μ„λ΅ λ½‘κ² μ§€λ§ λ°°μ—΄μ—μ„ μΈν•(κ°’)μ„ λ½‘κΈ° μ„ν•΄μ„λ” `Array.pop()`λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ§¨ λ’¤μ— μ„μΉν•΄ μλ” κ°’λ¶€ν„° λ½‘μ•„μ•Ό ν•λ‹¤. λν• κ°’μ΄ 0μΈ κ²½μ°μ—λ” μΈν•μ΄ μ—†κΈ° λ•λ¬Έμ— `Array.filter()`λ©”μ†λ“λ¥Ό μ΄μ©ν•μ—¬ 0μΈ κ°’μ„ λ¨λ‘ μ κ±°ν•μ€λ‹¤.

μ¦‰ μ•„λμ™€ κ°™μ€ νλ¦„μ΄λ‹¤.

1. `transpose(board)`λ¥Ό ν†µν•΄ 2μ°¨μ›μ λ°°μ—΄μ„ `row`κ°€ μ•„λ‹ `column`μΌλ΅ μ¬κµ¬μ„±ν•λ‹¤.
2. 2μ°¨μ› λ°°μ—΄μ κ°κ°μ μ›μ†μΈ λ°°μ—΄μ„ `Array.reverse()`λ©”μ„λ“λ¥Ό ν†µν•΄ μμ„λ¥Ό λ’¤μ§‘λ”λ‹¤. μ•μ— μλ” κ²ƒμ΄ μ„μ— μλ” κ²ƒμ΄κΈ° λ•λ¬Έμ— μμ„λ¥Ό λ’¤μ§‘μ–΄ ν›„μ— `Array.pop()`λ©”μ„λ“λ¥Ό μ΄μ©ν•  μ μκ² ν•λ‹¤.
3. `Array.filter()`λ¥Ό ν†µν•΄ κ°’μ΄ 0μΈ μ›μ†λ¥Ό μ κ±°ν•λ‹¤.

ν•΄λ‹Ή λ΅μ§μ„ κ±°μΉ 2μ°¨μ› λ°°μ—΄μΈ `stacks`μ λ¨μµμ€ μ•„λμ™€ κ°™λ‹¤.

```js
const stacks = [
  [3, 4], // 1μ–„
  [5, 2, 2], // 2μ—΄
  [1, 4, 5, 1], // 3μ—΄
  [3, 4], // 4μ—΄
  [1, 2, 1, 3], // 5μ—΄
];
```

λ§μ§€λ§‰μΌλ΅ forλ¬Έμ„ ν†µν•΄ `moves`λ°°μ—΄μ κ°’λ“¤μ— ν•΄λ‹Ήλλ” μΈν•μ„ λ½‘μ•„λ³Έλ‹¤.

```js
for (const move of moves) {
  const pop = stacks[move - 1].pop();
  if (!pop) continue;
  if (pop === basket[basket.length - 1]) {
    basket.pop();
    result += 2;
    continue;
  }
  basket.push(pop);
}
```

μ—¬κΈ°μ„ λ¨Όμ € μ§κ³  λ„μ–΄κ°€μ•Ό ν•  λ¶€λ¶„μ€ λ‚λ” μ§€κΈκΉμ§€ forλ¬Έμ„ μ‚¬μ©ν•  λ• μ•„λμ™€ κ°™μ΄ μ‚¬μ©ν–λ‹¤.

```js
for (i = 0; i < array.lenfth; i++) {}
```

λ°•λ―Όμλ‹μ΄ μ‚¬μ©ν• λ°©λ²•μ΄ λ” κΉ”λ”ν•΄ λ³΄μΈλ‹¤. μ°Έκ³ ν•μ—¬ λ‚μ¤‘μ— μ½”λ“λ¥Ό μ‘μ„±ν•  λ• μ‚¬μ©ν•΄λ³΄μ.

```js
const pop = stacks[move - 1].pop();
```

λ‹¤μ‹ λ³Έλ΅ μΌλ΅ λ“¤μ–΄κ°€μ„ μ„μ μ½”λ“λ¶€ν„° ν•΄μ„ν•μ. `moves`λ°°μ—΄μ μ›μ†μ„ λ°”νƒ•μΌλ΅ λ°λ³µλ¬Έμ„ μ‹¤ν–‰ν•κ³  μλ‹¤. κ°κ°μ λ°λ³µλ¬Έμ—μ„λ” `pop`μ΄ μ„ μ–Έλμ–΄ μκ³  μ΄ `pop`μ€ `moves`λ°°μ—΄μ μ›μ†μ— ν•΄λ‹Ήλλ” μ—΄(μ΄κ²ƒλν• λ°°μ—΄μΈκ²ƒμ„ μμ§€λ§μ)μ λ§μ§€λ§‰ μ›μ†λ¥Ό `Array.pop() `λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ κ°€μ Έμ¤κ³  μλ‹¤. `Array.pop()`μ€ κΈ°μ΅΄ λ°°μ—΄μ„ λ°”κΎΈκ³  λΉΌλ‚Έ μ›μ†λ¥Ό returnν•λ‹¤.

```js
if (!pop) continue;
```

κ·Έ ν›„ λ§μ•½ `pop`μ΄ μ—†λ‹¤λ©΄ λ‹¤μ λ°λ³µλ¬Έμ„ μ‹¤ν–‰ν•λ‹¤.(μ„μ μ½”λ“ μ°Έκ³ )

```js
if (pop === basket[basket.length - 1]) {
    basket.pop();
    result += 2;
    continue;
}
```

ν•μ§€λ§ λ§μ•½ `pop`κ³Ό `basket`μ— λ‹΄κΈ΄ λ§μ§€λ§‰ μ›μ†κ°€ κ°™λ‹¤λ©΄ μ„μ™€ κ°™μ€ μ½”λ“κ°€ μ‹¤ν–‰λλ‹¤. μ„μ μ½”λ“λ” λ‚΄κ°€ ν’€μ΄λ¥Ό ν–λ λ°©λ²•κ³Ό κ°™μ€ λ°©λ²•μ΄λ‹¤. ν•μ§€λ§ λ‹¤λ¥Έμ μ€ λ‚λ” λ°λ³µλ¬Έ μμ²΄λ¥Ό `break`ν–μ§€λ§ μ—¬κΈ°μ„λ” `continue`λ¥Ό ν•μ—¬ λ‹¤μ λ°λ©λ¶„μ„ μ΄μ–΄κ°€κ² λλ‹¤.

```js
basket.push(pop);
```

λ§μ§€λ§‰μΌλ΅ λ½‘ν μΈν•μ΄ `basket`μ— λ‹΄κΈ΄ λ§μ§€λ§‰ μΈν•κ³Ό κ°™μ§€ μ•λ”λ‹¤λ©΄ `Array,pusy()`λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ `basket`μ λ§μ§€λ§‰μ— μ„μΉ μ‹ν‚¨λ‹¤.(μ„μ μ½”λ“ μ°Έκ³ )

---

## 6. Conclusion

> μ½”λ”©ν…μ¤νΈμ μ²« λ²μ§Έ λ¬Έμ μ΄λ‹¤. μ§€κΈκΉμ§€ ν•΄λ³΄μ§„ μ•μ€ κ³µλ¶€μ—¬μ„ μ¤λμ€ κ³µλ¶€ν• λ‚΄μ©μ„ μ •λ¦¬ν•λ” λ° λ§μ€ μ‹κ°„μ΄ κ±Έλ Έλ‹¤. ν•μ§€λ§ μ •λ¦¬λ¥Ό ν•λ©΄μ„ λ§μ€ κ²ƒμ„ λ°°μ› λ‹¤. `Array.reduce()`λ©”μ„λ“λ¥Ό μ¤λλ§μ— μ¨λ³΄λ©΄μ„ λ‹¤μ‹ ν• λ² λ” κ°λ…μ„ μ΅μ•κ³  2μ°¨μ› λ°°μ—΄μ— λ€ν•΄μ„λ„ μ–΄λμ •λ„ μΉμ™ν•΄μ΅λ‹¤.  
> λ‹¤λ¥Έ μ‚¬λλ“¤μ΄ ν’€μ΄ν• λ‚΄μ©μ„ λ³΄κ³  "μ–΄λ–»κ² μ΄λ° μƒκ°μ„ ν•  μ μμ§€?"λΌλ©΄μ„ κ°νƒ„μ„ ν•μ€λ‹¤. κΈ°κ°€λ§‰ν μ½”λ“λ¥Ό λ³΄κ³  λ¶„μ„ν•λ” κ²ƒλ„ μΆ‹μ€ κ²½ν—μ΄ λμ–΄ μΆ‹μ€ μ½”λ”©ν…μ¤νΈ κ³µλ¶€λ¥Ό ν•  μ μμ—λ‹¤.

---

[π‘†](#ν¬λ μΈ-μΈν•λ½‘κΈ°-κ²μ„)
