# ì£¼ì°¨ ìš”ê¸ˆ ê³„ì‚°

## 1. ê°œìš”

- í”„ë¡œê·¸ë˜ë¨¸ìŠ¤
- Lv.2
- 2022 KAKAO BLIND RECRUITMENT
- [ë¬¸ì œ ë°”ë¡œê°€ê¸°](https://school.programmers.co.kr/learn/courses/30/lessons/92341)

---

## 2. ë¬¸ì œ ì„¤ëª…

ì£¼ì°¨ì¥ì˜ ìš”ê¸ˆí‘œì™€ ì°¨ëŸ‰ì´ ë“¤ì–´ì˜¤ê³ (ì…ì°¨) ë‚˜ê°„(ì¶œì°¨) ê¸°ë¡ì´ ì£¼ì–´ì¡Œì„ ë•Œ, ì°¨ëŸ‰ë³„ë¡œ ì£¼ì°¨ ìš”ê¸ˆì„ ê³„ì‚°í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” í•˜ë‚˜ì˜ ì˜ˆì‹œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

- ìš”ê¸ˆí‘œ
  |ê¸°ë³¸ ì‹œê°„(ë¶„)| ê¸°ë³¸ ìš”ê¸ˆ(ì›)| ë‹¨ìœ„ ì‹œê°„(ë¶„)| ë‹¨ìœ„ ìš”ê¸ˆ(ì›)|
  |---|---|---|---|
  |180 |5000| 10| 600|

- ì…/ì¶œì°¨ ê¸°ë¡
  |ì‹œê°(ì‹œ:ë¶„) |ì°¨ëŸ‰ ë²ˆí˜¸ |ë‚´ì—­|
  |---|---|---|
  |05:34| 5961 |ì…ì°¨|
  |06:00| 0000| ì…ì°¨|
  |06:34| 0000| ì¶œì°¨|
  |07:59| 5961| ì¶œì°¨|
  |07:59| 0148| ì…ì°¨|
  |18:59 |0000| ì…ì°¨|
  |19:09 |0148| ì¶œì°¨|
  |22:59 |5961| ì…ì°¨|
  |23:00 |5961| ì¶œì°¨|

- ìë™ì°¨ë³„ ì£¼ì°¨ ìš”ê¸ˆ
  |ì°¨ëŸ‰ ë²ˆí˜¸| ëˆ„ì  ì£¼ì°¨ ì‹œê°„(ë¶„)| ì£¼ì°¨ ìš”ê¸ˆ(ì›)|
  |---|---|---|
  |0000 |34 + 300 = 334| 5000 + âŒˆ(334 - 180) / 10âŒ‰ x 600 = 14600|
  |0148 |670| 5000 +âŒˆ(670 - 180) / 10âŒ‰x 600 = 34400|
  |5961 |145 + 1 = 146| 5000|

- ì–´ë–¤ ì°¨ëŸ‰ì´ ì…ì°¨ëœ í›„ì— ì¶œì°¨ëœ ë‚´ì—­ì´ ì—†ë‹¤ë©´, 23:59ì— ì¶œì°¨ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤. - 0000ë²ˆ ì°¨ëŸ‰ì€ 18:59ì— ì…ì°¨ëœ ì´í›„, ì¶œì°¨ëœ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, 23:59ì— ì¶œì°¨ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
  - 00:00ë¶€í„° 23:59ê¹Œì§€ì˜ ì…/ì¶œì°¨ ë‚´ì—­ì„ ë°”íƒ•ìœ¼ë¡œ ì°¨ëŸ‰ë³„ ëˆ„ì  ì£¼ì°¨ ì‹œê°„ì„ ê³„ì‚°í•˜ì—¬ ìš”ê¸ˆì„ ì¼ê´„ë¡œ ì •ì‚°í•©ë‹ˆë‹¤.
- ëˆ„ì  ì£¼ì°¨ ì‹œê°„ì´ ê¸°ë³¸ ì‹œê°„ì´í•˜ë¼ë©´, ê¸°ë³¸ ìš”ê¸ˆì„ ì²­êµ¬í•©ë‹ˆë‹¤.
- ëˆ„ì  ì£¼ì°¨ ì‹œê°„ì´ ê¸°ë³¸ ì‹œê°„ì„ ì´ˆê³¼í•˜ë©´, ê¸°ë³¸ ìš”ê¸ˆì— ë”í•´ì„œ, ì´ˆê³¼í•œ ì‹œê°„ì— ëŒ€í•´ì„œ ë‹¨ìœ„ ì‹œê°„ ë§ˆë‹¤ ë‹¨ìœ„ ìš”ê¸ˆì„ ì²­êµ¬í•©ë‹ˆë‹¤.
  - ì´ˆê³¼í•œ ì‹œê°„ì´ ë‹¨ìœ„ ì‹œê°„ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ì§€ ì•Šìœ¼ë©´, ì˜¬ë¦¼í•©ë‹ˆë‹¤.
  - âŒˆaâŒ‰ : aë³´ë‹¤ ì‘ì§€ ì•Šì€ ìµœì†Œì˜ ì •ìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¦‰, ì˜¬ë¦¼ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì£¼ì°¨ ìš”ê¸ˆì„ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ ë°°ì—´ fees, ìë™ì°¨ì˜ ì…/ì¶œì°¨ ë‚´ì—­ì„ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìì—´ ë°°ì—´ recordsê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤. ì°¨ëŸ‰ ë²ˆí˜¸ê°€ ì‘ì€ ìë™ì°¨ë¶€í„° ì²­êµ¬í•  ì£¼ì°¨ ìš”ê¸ˆì„ ì°¨ë¡€ëŒ€ë¡œ ì •ìˆ˜ ë°°ì—´ì— ë‹´ì•„ì„œ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ì£¼ì„¸ìš”.

---

### 2-1. ë¬¸ì œ ì„¤ëª… - ì œí•œì‚¬í•­

- feesì˜ ê¸¸ì´ = 4
  - fees[0] = ê¸°ë³¸ ì‹œê°„(ë¶„)
  - 1 â‰¤ fees[0] â‰¤ 1,439
  - fees[1] = ê¸°ë³¸ ìš”ê¸ˆ(ì›)
  - 0 â‰¤ fees[1] â‰¤ 100,000
  - fees[2] = ë‹¨ìœ„ ì‹œê°„(ë¶„)
  - 1 â‰¤ fees[2] â‰¤ 1,439
  - fees[3] = ë‹¨ìœ„ ìš”ê¸ˆ(ì›)
  - 1 â‰¤ fees[3] â‰¤ 10,000
- 1 â‰¤ recordsì˜ ê¸¸ì´ â‰¤ 1,000
  - recordsì˜ ê° ì›ì†ŒëŠ” "ì‹œê° ì°¨ëŸ‰ë²ˆí˜¸ ë‚´ì—­" í˜•ì‹ì˜ ë¬¸ìì—´ì…ë‹ˆë‹¤.
  - ì‹œê°, ì°¨ëŸ‰ë²ˆí˜¸, ë‚´ì—­ì€ í•˜ë‚˜ì˜ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
  - ì‹œê°ì€ ì°¨ëŸ‰ì´ ì…ì°¨ë˜ê±°ë‚˜ ì¶œì°¨ëœ ì‹œê°ì„ ë‚˜íƒ€ë‚´ë©°, HH:MM í˜•ì‹ì˜ ê¸¸ì´ 5ì¸ ë¬¸ìì—´ì…ë‹ˆë‹¤.
    - HH:MMì€ 00:00ë¶€í„° 23:59ê¹Œì§€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
    - ì˜ëª»ëœ ì‹œê°("25:22", "09:65" ë“±)ì€ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
  - ì°¨ëŸ‰ë²ˆí˜¸ëŠ” ìë™ì°¨ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ, `0'~'9'ë¡œ êµ¬ì„±ëœ ê¸¸ì´ 4ì¸ ë¬¸ìì—´ì…ë‹ˆë‹¤.
  - ë‚´ì—­ì€ ê¸¸ì´ 2 ë˜ëŠ” 3ì¸ ë¬¸ìì—´ë¡œ, IN ë˜ëŠ” OUTì…ë‹ˆë‹¤. INì€ ì…ì°¨ë¥¼, OUTì€ ì¶œì°¨ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
  - recordsì˜ ì›ì†Œë“¤ì€ ì‹œê°ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì£¼ì–´ì§‘ë‹ˆë‹¤.
  - recordsëŠ” í•˜ë£¨ ë™ì•ˆì˜ ì…/ì¶œì°¨ëœ ê¸°ë¡ë§Œ ë‹´ê³  ìˆìœ¼ë©°, ì…ì°¨ëœ ì°¨ëŸ‰ì´ ë‹¤ìŒë‚  ì¶œì°¨ë˜ëŠ” ê²½ìš°ëŠ” ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
  - ê°™ì€ ì‹œê°ì—, ê°™ì€ ì°¨ëŸ‰ë²ˆí˜¸ì˜ ë‚´ì—­ì´ 2ë²ˆ ì´ìƒ ë‚˜íƒ€ë‚´ì§€ ì•ŠìŠµë‹ˆë‹¤.
  - ë§ˆì§€ë§‰ ì‹œê°(23:59)ì— ì…ì°¨ë˜ëŠ” ê²½ìš°ëŠ” ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
  - ì•„ë˜ì˜ ì˜ˆë¥¼ í¬í•¨í•˜ì—¬, ì˜ëª»ëœ ì…ë ¥ì€ ì£¼ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
    - ì£¼ì°¨ì¥ì— ì—†ëŠ” ì°¨ëŸ‰ì´ ì¶œì°¨ë˜ëŠ” ê²½ìš°
    - ì£¼ì°¨ì¥ì— ì´ë¯¸ ìˆëŠ” ì°¨ëŸ‰(ì°¨ëŸ‰ë²ˆí˜¸ê°€ ê°™ì€ ì°¨ëŸ‰)ì´ ë‹¤ì‹œ ì…ì°¨ë˜ëŠ” ê²½ìš°

---

### 2-2. ë¬¸ì œ ì„¤ëª… - ì…ì¶œë ¥ ì˜ˆ

| fees                 | records                                                                                                                                                       | result               |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------- |
| [180, 5000, 10, 600] | ["05:34 5961 IN", "06:00 0000 IN", "06:34 0000 OUT", "07:59 5961 OUT", "07:59 0148 IN", "18:59 0000 IN", "19:09 0148 OUT", "22:59 5961 IN", "23:00 5961 OUT"] | [14600, 34400, 5000] |
| [120, 0, 60, 591]    | ["16:00 3961 IN","16:00 0202 IN","18:00 3961 OUT","18:00 0202 OUT","23:58 3961 IN"]                                                                           | [0, 591]             |
| [1, 461, 1, 10]      | ["00:00 1234 IN"]                                                                                                                                             | [14841]              |

---

### 2-3. ë¬¸ì œ ì„¤ëª… - ì…ì¶œë ¥ ì˜ˆ ì„¤ëª…

ì…ì¶œë ¥ ì˜ˆ #1

ë¬¸ì œ ì˜ˆì‹œì™€ ê°™ìŠµë‹ˆë‹¤.

ì…ì¶œë ¥ ì˜ˆ #2

- ìš”ê¸ˆí‘œ
  |ê¸°ë³¸ ì‹œê°„(ë¶„) |ê¸°ë³¸ ìš”ê¸ˆ(ì›)| ë‹¨ìœ„ ì‹œê°„(ë¶„)| ë‹¨ìœ„ ìš”ê¸ˆ(ì›)|
  |---|---|---|---|
  |120 |0 |60 |591|

- ì…/ì¶œì°¨ ê¸°ë¡
  |ì‹œê°(ì‹œ:ë¶„)| ì°¨ëŸ‰ ë²ˆí˜¸| ë‚´ì—­|
  |---|---|---|
  |16:00 |3961| ì…ì°¨|
  |16:00 |0202| ì…ì°¨|
  |18:00 |3961| ì¶œì°¨|
  |18:00 |0202| ì¶œì°¨|
  |23:58 |3961| ì…ì°¨|

- ìë™ì°¨ë³„ ì£¼ì°¨ ìš”ê¸ˆ
  |ì°¨ëŸ‰ ë²ˆí˜¸ |ëˆ„ì  ì£¼ì°¨ ì‹œê°„(ë¶„)| ì£¼ì°¨ ìš”ê¸ˆ(ì›)|
  |---|---|---|
  |0202| 120| 0|
  |3961| 120 + 1 = 121| 0 +âŒˆ(121 - 120) / 60âŒ‰x 591 = 591|

- 3961ë²ˆ ì°¨ëŸ‰ì€ 2ë²ˆì§¸ ì…ì°¨ëœ í›„ì—ëŠ” ì¶œì°¨ëœ ë‚´ì—­ì´ ì—†ìœ¼ë¯€ë¡œ, 23:59ì— ì¶œì°¨ë˜ì—ˆë‹¤ê³  ê°„ì£¼í•©ë‹ˆë‹¤.

ì…ì¶œë ¥ ì˜ˆ #3

- ìš”ê¸ˆí‘œ
  |ê¸°ë³¸ ì‹œê°„(ë¶„) |ê¸°ë³¸ ìš”ê¸ˆ(ì›)| ë‹¨ìœ„ ì‹œê°„(ë¶„)| ë‹¨ìœ„ ìš”ê¸ˆ(ì›)|
  |---|---|---|---|
  |1 |461| 1| 10|

- ì…/ì¶œì°¨ ê¸°ë¡
  |ì‹œê°(ì‹œ:ë¶„)| ì°¨ëŸ‰ ë²ˆí˜¸| ë‚´ì—­|
  |---|---|---|
  |00:00 |1234 |ì…ì°¨|

- ìë™ì°¨ë³„ ì£¼ì°¨ ìš”ê¸ˆ
  |ì°¨ëŸ‰ ë²ˆí˜¸| ëˆ„ì  ì£¼ì°¨ ì‹œê°„(ë¶„) |ì£¼ì°¨ ìš”ê¸ˆ(ì›)|
  |---|---|---|
  |1234| 1439| 461 +âŒˆ(1439 - 1) / 1âŒ‰x 10 = 14841|

- 1234ë²ˆ ì°¨ëŸ‰ì€ ì¶œì°¨ ë‚´ì—­ì´ ì—†ìœ¼ë¯€ë¡œ, 23:59ì— ì¶œì°¨ë˜ì—ˆë‹¤ê³  ê°„ì£¼í•©ë‹ˆë‹¤.

---

### 2-4. ë¬¸ì œ ì„¤ëª… - ì œí•œì‹œê°„ ì•ˆë‚´

ì •í™•ì„± í…ŒìŠ¤íŠ¸ : 10ì´ˆ

---

## 3. ë¬¸ì œ í’€ì´

```javascript
function solution(fees, records) {
  // 1) fee ë°°ì—´ì˜ ìš”ì†Œë¥¼ ë³€ìˆ˜ì— ì €ì¥í•˜ê¸°
  const [default_time, default_pay, unit_time, unit_pay] = fees;
  const map = new Map();
  // 2) recodrs ë°°ì—´ì„ ìˆœíšŒ ëŒë©´ì„œ map ê°ì²´ì— ì°¨ëŸ‰ë³„ ì…ì°¨, ì¶œì°¨ ì‹œê°„ ì €ì¥í•˜ê¸°
  records.forEach((item) => {
    // 3) recodrs ë°°ì—´ì˜ ìš”ì†Œë¥¼ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë°°ì—´ ë§Œë“¤ê¸°
    let [time, num, type] = item.split(" ");
    // 4) ì œê³µëœ ì‹œê°„ ì •ë³´ë¥¼ ë‹¤ë¥¸ í˜•íƒœì˜ ë°ì´í„°ë¡œ ë°”ê¾¸ê¸°
    const [hour, minute] = time.split(":");
    time = Number(hour) * 60 + Number(minute);
    // 5) ìƒˆë¡œìš´ ì‹œê°„ ì •ë³´ê°€ ë‹´ê¸´ ê°’ìœ¼ë¡œ ë°”ê¾¸ê¸°
    const recode = map.get(num) || [];
    map.set(num, [...recode, time]);
  });
  // 6) result ë°°ì—´ì„ ë§Œë“¤ê³  ì°¨ëŸ‰ ë²ˆí˜¸ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ê¸°
  const result = [];
  for ([key, value] of map) {
    result.push([key, value]);
  }
  result.sort((a, b) => a[0] - b[0]);
  return result.map(([_, recode]) => {
    // 7) ê¸°ë¡ëœ ì‹œê°„ì´ í™€ìˆ˜ê°œë¼ë©´ 24ì‹œ59ë¶„ì— í•´ë‹¹í•˜ëŠ” ì‹œê°„ì„ ë„£ê¸°
    if (recode.length % 2 === 1) recode.push(23 * 60 + 59);
    // 8) ë°˜ë³µë¬¸ì„ ëŒë©° ì£¼ì°¨ì¥ì„ ì‚¬ìš©í•œ ì‹œê°„ì´ ë‹´ê¸´ use_time ë°°ì—´ ë§Œë“¤ê¸°
    const use_time = [];
    while (recode.length !== 0) {
      const a = recode.pop();
      const b = recode.pop();
      const time = a - b;
      use_time.push(time);
    }
    // 9) ì´ ì´ìš© ì‹œê°„ êµ¬í•˜ê¸°
    const cum_time = use_time.reduce((a, b) => a + b) - default_time;
    // 10) ì´ ì´ìš© ì‹œê°„ì´ 0ê³¼ ê°™ê±°ë‚˜ ì‘ì€ ê²½ìš° ê¸°ë³¸ ìš”ê¸ˆë§Œ ì§€ë¶ˆí•˜ê¸°
    if (cum_time <= 0) {
      return default_pay;
    } else {
      // 11) ì´ˆê³¼ëœ ì‹œê°„ì— ë”°ë¥¸ ì£¼ì°¨ìš”ê¸ˆì— ê¸°ë³¸ ìš”ê¸ˆ ë”í•œ ê°’ì„ ì§€ë¶ˆí•˜ê¸°
      return Math.ceil(cum_time / unit_time) * unit_pay + default_pay;
    }
  });
}
```

### 1) fee ë°°ì—´ì˜ ìš”ì†Œë¥¼ ë³€ìˆ˜ì— ì €ì¥í•˜ê¸°

```javascript
const [default_time, default_pay, unit_time, unit_pay] = fees;
```

`fees` ë°°ì—´ì—ëŠ” ìˆœì„œëŒ€ë¡œ ê¸°ë³¸ì‹œê°„, ê¸°ë³¸ìš”ê¸ˆ, ë‹¨ìœ„ì‹œê°„, ë‹¨ìœ„ìš”ê¸ˆì„ ë‚˜íƒ€ë‚´ëŠ” ìš”ì†Œê°€ ë“¤ì–´ìˆë‹¤. ì´ë¥¼ êµ¬ì¡°ë¶„í•´ í• ë‹¹ì„ í•˜ì—¬
ê°ê° ë³€ìˆ˜ì— ì €ì¥í•œë‹¤. ì´ ë³€ìˆ˜ëŠ” ë‹¹ì¥ì€ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë¬¸ì œ í’€ì´ ê¸°ì¤€ `return`ì—ì„œ ì‚¬ìš©ëœë‹¤.

### 2) recodrs ë°°ì—´ì„ ìˆœíšŒ ëŒë©´ì„œ map ê°ì²´ì— ì°¨ëŸ‰ë³„ ì…ì°¨, ì¶œì°¨ ì‹œê°„ ì €ì¥í•˜ê¸°

```javascript
records.forEach((item) => {});
```

`recodrs`ì—ëŠ” ì°¨ëŸ‰ë³„ ì…ì°¨, ì¶œì°¨ ì‹œê°„ì´ ìš”ì†Œë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤. í•´ë‹¹ ìš”ì†Œë¥¼ ìˆœíšŒë¥¼ í•˜ë©´ì„œ `map` ë§µ ê°ì²´ì— ì €ì¥ì„ í•œë‹¤. ì´ë•Œ ë§µ ê°ì²´ì˜ `key`ëŠ”
ì°¨ëŸ‰ë²ˆí˜¸ê°€ ë˜ê³  `value`ëŠ” í•´ë‹¹ ì°¨ëŸ‰ì´ ì…ì°¨ ë˜ëŠ” ì¶œì°¨ í•œ ì‹œê°„ì´ ëœë‹¤.

---

### 3) recodrs ë°°ì—´ì˜ ìš”ì†Œë¥¼ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë°°ì—´ ë§Œë“¤ê¸°

```javascript
let [time, num, type] = item.split(" ");
```

`recodrs` ë°°ì—´ì˜ ìš”ì†ŒëŠ” ë¬¸ìì—´ì´ë‹¤. ë¬¸ìì—´ì—” ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ `ì‹œê°`, `ì°¨ëŸ‰ë²ˆí˜¸`, `IN ë˜ëŠ” OUT`ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ì´ë¥¼ ì´ìš©í•˜ì—¬
`Array.split()` ë©”ì„œë“œë¥¼ í†µí•´ ìš”ì†Œê°€ 3ê°œì¸ ë°°ì—´ì„ ë§Œë“¤ê³  êµ¬ì¡°ë¶„í•´ í• ë‹¹ìœ¼ë¡œ ê°ê°ì˜ ê°’ì„ ë³€ìˆ˜ì— ì €ì¥ì„ í•œë‹¤.

---

### 4) ì œê³µëœ ì‹œê°„ ì •ë³´ë¥¼ ë‹¤ë¥¸ í˜•íƒœì˜ ë°ì´í„°ë¡œ ë°”ê¾¸ê¸°

```javascript
const [hour, minute] = time.split(":");
time = Number(hour) * 60 + Number(minute);
```

ë¬¸ì œì—ì„œ ì‹œê°ì€ `HH:MM`ì˜ í˜•íƒœë¡œ ì£¼ì–´ì§„ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê°€ìš´ë°ì˜ `:`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë°°ì—´ì„ ë§Œë“ ë‹¤.
ê·¸ ì¤‘ 0ë²ˆì§¸ ì¸ë±ìŠ¤ëŠ” `hour`ì´ê³  1ë²ˆì§¸ ì¸ë±ìŠ¤ëŠ” `minute`ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì‹œê°ì„ ë¶„ìœ¼ë¡œ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´
`hour`ì— 60ì„ ê³±í•œ ìˆ˜ì— `minute`ë¥¼ ë”í•œë‹¤.

---

### 5) ìƒˆë¡œìš´ ì‹œê°„ ì •ë³´ê°€ ë‹´ê¸´ ê°’ìœ¼ë¡œ ë°”ê¾¸ê¸°

```javascript
const recode = map.get(num) || [];
map.set(num, [...recode, time]);
```

ë¨¼ì € ë§µ ê°ì²´ì— ì°¨ëŸ‰ë²ˆí˜¸ì— í•´ë‹¹í•˜ëŠ” ê°’ì´ ìˆëŠ”ì§€ ì°¾ì•„ë³¸ë‹¤. ë§Œì•½ ìˆìœ¼ë©´ ê·¸ ê°’ì„ `recode` ë³€ìˆ˜ì— í• ë‹¹í•˜ê³ 
ì—†ìœ¼ë©´ ë¹ˆ ê°ì²´ë¥¼ `reocde` ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤.

`recdoe` ë³€ìˆ˜ëŠ” ë°°ì—´ì´ë©° ìš”ì†ŒëŠ” í‚¤ì— í•´ë‹¹í•˜ëŠ” ì°¨ëŸ‰ì´ ì…ì°¨, ì¶œì°¨ í•œ ì‹œê°„ì´ë‹¤. í•­ìƒ ì…ì°¨ê°€ ë¨¼ì €ì´ê³  ê·¸ ë‹¤ìŒì€ ì¶œì°¨ì´ë‹¤.
ì¦‰, ì¸ë±ìŠ¤ ë²ˆí˜¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§ìˆ˜ ì¸ë±ìŠ¤ëŠ” ìë™ì°¨ê°€ ì£¼ì°¨ì¥ì— ë“¤ì–´ì˜¨ ì‹œê°„ì´ê³  í™€ìˆ˜ ì¸ë±ìŠ¤ëŠ” ìë™ì°¨ê°€ ì£¼ì°¨ì¥ì—ì„œ ë¹ ì ¸ë‚˜ê°„ ì‹œê°„ì´ë‹¤.

---

### 6) result ë°°ì—´ì„ ë§Œë“¤ê³  ì°¨ëŸ‰ ë²ˆí˜¸ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ê¸°

```javascript
const result = [];
for ([key, value] of map) {
  result.push([key, value]);
}
result.sort((a, b) => a[0] - b[0]);
```

`map` ë§µ ê°ì²´ë¥¼ `for..of ë¬¸`ì„ í†µí•´ ìˆœíšŒí•œë‹¤. `key`ëŠ” ì°¨ëŸ‰ ë²ˆí˜¸ê°€ ë˜ë©° `value`ëŠ” ê·¸ ì°¨ëŸ‰ì´ ì£¼ì°½ì— ì…ì°¨, ì¶œì°¨í•œ ì‹œê°„ì„
ìš”ì†Œë¡œ ê°€ì§€ëŠ” ë°°ì—´ì´ë‹¤. ì´ëŸ° `key`ì™€ `value`ë¥¼ ìš”ì†Œë¡œ ê°€ì§€ëŠ” ë°°ì—´ì„ `result` ë°°ì—´ì— ë„£ëŠ”ë‹¤.

ê·¸ í›„ `Array.sort()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ìš”ì†Œì˜ ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ì¸ ì°¨ëŸ‰ ë²ˆí˜¸ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤.

---

### 7) ê¸°ë¡ëœ ì‹œê°„ì´ í™€ìˆ˜ê°œë¼ë©´ 24ì‹œ59ë¶„ì— í•´ë‹¹í•˜ëŠ” ì‹œê°„ì„ ë„£ê¸°

```javascript
if (recode.length % 2 === 1) recode.push(23 * 60 + 59);
```

ì–´ë–¤ ì°¨ëŸ‰ì´ ì£¼ì°¨ì¥ì„ ì´ìš©í•  ë•Œ ì…ì°¨í•œ ì‹œê°„, ì¶œì°¨í•œ ì‹œê°„ì„ ì €ì¥í•˜ê³  ìˆëŠ” `recode` ë°°ì—´ì˜ ê¸¸ì´ê°€ í™€ìˆ˜ë¼ëŠ” ê²ƒì€
ë“¤ì–´ê°„ ì‹œê°„ì„ ìˆëŠ”ë° ì•„ì§ ë‚˜ì˜¤ì§€ ì•Šì•˜ë‹¤ëŠ” ëœ»ì´ë‹¤. ì¦‰, ì´ëŸ´ ë‹¹ì¼ ëê¹Œì§€ ì£¼ì°¨ì¥ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

ë¬¸ì œì˜ ì¡°ê±´ì— ë”°ë¼ ìœ„ì™€ ê°™ì€ ê²½ìš°ì€ ì¶œì°¨ëœ ë‚´ì—­ì´ ì—†ìœ¼ë¯€ë¡œ 23ì‹œ59ë¶„ì— ì¶œì°¨ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ `recode` ë°°ì—´ì—
23ì‹œ59ë¶„ì— í•´ë‹¹í•˜ëŠ” ë¶„ì„ ê³„ì‚°í•˜ì—¬ ë§ˆì§€ë§‰ ìš”ì†Œë¡œ ì¶”ê°€í•œë‹¤.

---

### 8) ë°˜ë³µë¬¸ì„ ëŒë©° ì£¼ì°¨ì¥ì„ ì‚¬ìš©í•œ ì‹œê°„ì´ ë‹´ê¸´ use_time ë°°ì—´ ë§Œë“¤ê¸°

```javascript
const use_time = [];
while (recode.length !== 0) {
  const a = recode.pop();
  const b = recode.pop();
  const time = a - b;
  use_time.push(time);
}
```

`recode` ë°°ì—´ì˜ ìš”ì†Œë¥¼ ë’¤ì—ì„œ ë¶€í„° êº¼ë‚¸ë‹¤. ë‘ ê°œë¥¼ êº¼ë‚´ì–´ ë¨¼ì € êº¼ë‚¸ ê°’(a)ì—ì„œ ë‚˜ì¤‘ì— êº¼ë‚¸ ê°’(b)ì„ ëº€ë‹¤.
`recode` ë°°ì—´ì´ ë§Œë“¤ì–´ì§„ ê³¼ì •ì„ ë³´ë©´ ì¸ë±ìŠ¤ì˜ ë²ˆí˜¸ê°€ ì»¤ì§ˆ ìˆ˜ë¡ ìš”ì†Œì˜ ê°’ë„ ì»¤ì§„ë‹¤. ì¦‰, ì ì  ì‹œê°„ì´ ì»¤ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

ë‹¤ì‹œ `a - b`ì˜ ê°’ì€ ìë™ì°¨ê°€ ì£¼ì°¨ì¥ì„ ì´ìš©í•œ ì‹œê°„ì´ ëœë‹¤. ì´ ì‹œê°„ì„ `use_time`ì— ì €ì¥ì„ í•œë‹¤. ì´ëŸ° ë°˜ë³µì„ `recode` ë°°ì—´ì˜ ê¸¸ì´ê°€
0ì´ ë  ë•Œê¹Œì§€ í•œë‹¤.

---

### 9) ì´ ì´ìš© ì‹œê°„ êµ¬í•˜ê¸°

```javascript
const cum_time = use_time.reduce((a, b) => a + b) - default_time;
```

ì´ ì´ìš© ì‹œê°„ì„ êµ¬í•œë‹¤. `use_time` ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œì˜ í•©ì„ êµ¬ í•˜ê³  ê¸°ë³¸ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ì‹œê°„ì¸ `default_time`ë¥¼ ëº€ë‹¤.
ì—„ë°€íˆ ë§í•˜ë©´ `cum_time`ì€ ê¸°ë³¸ ì´ìš© ì‹œê°„ì—ì„œ ì´ˆê³¼ëœ ì‚¬ìš© ì‹œê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤. ë¯¸ë¦¬ `defalut_time`ë¥¼ ëº€ ì´ìœ ëŠ” ì¡°ê±´ì˜ ê¸¸ì´ë¥¼
ì¤„ì´ê¸° ìœ„í•¨ì´ë‹¤. ë¦¬íŒ©í† ë§ì—ì„œëŠ” ë‹¤ë¥´ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ë‹¤.

---

### 10) ì´ ì´ìš© ì‹œê°„ì´ 0ê³¼ ê°™ê±°ë‚˜ ì‘ì€ ê²½ìš° ê¸°ë³¸ ìš”ê¸ˆë§Œ ì§€ë¶ˆí•˜ê¸°

```javascript
if (cum_time <= 0) {
  return default_pay;
}
```

ìœ„ì™€ ê°™ì€ ê²½ìš°ëŠ” ê¸°ë³¸ ì´ìš© ì‹œê°„ ì´í•˜ë¡œ ì£¼ì°¨ì¥ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê¸°ë³¸ ì´ìš© ê¸ˆì•¡ë§Œ ì§€ë¶ˆëœë‹¤.

---

### 11) ì´ˆê³¼ëœ ì‹œê°„ì— ë”°ë¥¸ ì£¼ì°¨ìš”ê¸ˆì— ê¸°ë³¸ ìš”ê¸ˆ ë”í•œ ê°’ì„ ì§€ë¶ˆí•˜ê¸°

```javascript
return Math.ceil(cum_time / unit_time) * unit_pay + default_pay;
```

`cum_time`ì€ ê¸°ë³¸ ì´ìš© ì‹œê°„ì—ì„œ ì´ˆê³¼ëœ ì‹œê°„ì´ë‹¤. ì´ ì‹œê°„ì„ ë‹¨ìœ„ ì‹œê°„ì„ ë‚˜ëˆˆ ê°’ì— ë‹¨ìœ„ ìš”ê¸ˆì„ ë”í•œ ê°’ì´ ë°”ë¡œ
ì¶”ê°€ ìš”ê¸ˆì´ë‹¤. ë˜í•œ ì—¬ê¸°ì— ê¸°ë³¸ ìš”ê¸ˆê¹Œì§€ ë”í•˜ë©´ í•´ë‹¹ ì°¨ëŸ‰ì´ ì§€ë¶ˆí•´ì•¼ í•  ì£¼ì°¨ ë¹„ìš©ì´ ëœë‹¤.

---

### ê²°ê³¼

![programmers_parking_fee_calculation_result1](/image/CodingTest/programmers_parking_fee_calculation/programmers_parking_fee_calculation_result1.png)

---

## 4. Refactoring

ë‚˜ì˜ ë¬¸ì œ í’€ì´ë¥¼ ë³´ë©´ `IN`, `OUT`ì€ ì‚¬ìš©ì´ ë˜ì§€ ì•Šì•˜ë‹¤. ì´ë¥¼ í™œìš©í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ëœ»ì´ë‹¤. ì´ë¥¼ í™œìš©í•˜ì—¬ ë¬¸ì œë¥¼
ë‹¤ì‹œ í’€ì—ˆë‹¤. ì£¼ì°¨ì¥ì— ìë™ì°¨ê°€ ë“¤ì–´ì˜¤ë©´ `IN`ì´ê³  ì´ë•Œì˜ ì‹œê°„ì€ ì‚¬ìš©ì‹œê°„ì—ì„œ ë¹¼ê¸°ë¥¼ í•˜ê³  ì£¼ì°¨ì¥ì— ìë™ì°¨ê°€
ë“¤ì–´ì˜¤ë©´ `OUT`ì´ê³  ì´ë•Œì˜ ì‹œê°„ì€ ì‚¬ìš©ì‹œê°„ì— ë”í•˜ê¸°ë¥¼ í•œë‹¤.

ê·¸ë ‡ê¸° ì´ ì‚¬ìš©ì‹œê°„ì„ êµ¬í•œë‹¤. ë§Œì•½ ì´ ì‚¬ìš©ì‹œê°„ì´ ìŒìˆ˜ë¼ë©´ 23:59ê¹Œì§€ ì¶œì°¨ë¥¼ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë¯€ë¡œ 23:59ì— í•´ë‹¹í•˜ëŠ”
ê°’ì„ ìµœì¢…ì ìœ¼ë¡œ ë”í•´ì¤€ë‹¤.

ë˜í•œ `result` ë°°ì—´ì„ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ ìë™ì°¨ê°€ ì§€ë¶ˆí•´ì•¼ í•  ì£¼ì°¨ìš”ê¸ˆì„ ê³„ì‚°í•˜ì—¬ ìš”ì†Œë¡œ ë„£ì—ˆë‹¤.

```javascript
function solution(fees, records) {
  const [default_time, default_pay, unit_time, unit_pay] = fees;
  const map = new Map();
  records.forEach((item) => {
    let [time, num, type] = item.split(" ");
    type = type === "IN" ? -1 : 1;
    const [hour, minute] = time.split(":");
    time = (Number(hour) * 60 + Number(minute)) * type;
    const recode = (map.get(num) || 0) + time;
    map.set(num, recode);
  });
  const result = [];
  for ([key, value] of map) {
    let price;
    if (value <= 0) value += 23 * 60 + 59;
    if (value <= default_time) price = default_pay;
    else {
      price =
        Math.ceil((value - default_time) / unit_time) * unit_pay + default_pay;
    }
    result.push([key, price]);
  }
  result.sort((a, b) => a[0] - b[0]);
  return result.map(([_, price]) => price);
}
```

---

### ê²°ê³¼

![programmers_parking_fee_calculation_result2](/image/CodingTest/programmers_parking_fee_calculation/programmers_parking_fee_calculation_result2.png)

ì‹¤í–‰ê²°ê³¼ëŠ” í¬ê²Œ ë‹¬ë¼ì§€ì§€ ì•Šì•˜ì§€ë§Œ ë¬¸ì œì—ì„œ ì œê³µí•˜ëŠ” ì¡°ê±´ì„ ì˜ í™œìš©í•˜ì˜€ê¸°ì— ë” ì¢‹ì€ í’€ì´ë¼ê³  ìƒê°í•œë‹¤.

---

## 5. ë‹¤ë¥¸ ì‚¬ëŒ í’€ì´

ì¢‹ì•„ìš”ë¥¼ ê°€ì¥ ë§ì´ ë°›ì€ í’€ì´ë¥¼ ê°€ì ¸ì™”ë‹¤.

```javascript
function solution(fees, records) {
  const parkingTime = {};
  records.forEach((r) => {
    let [time, id, type] = r.split(" ");
    let [h, m] = time.split(":");
    time = h * 1 * 60 + m * 1;
    // 1) ì°¨ëŸ‰ë²ˆí˜¸ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ ê°’ìœ¼ë¡œ 0ì„ í• ë‹¹í•˜ê¸°
    if (!parkingTime[id]) parkingTime[id] = 0;
    // 2) IN, OUTì— ë”°ë¼ ê¸°ì¡´ ê°’ì— ì‹œê°„ì„ ë”í•˜ê±°ë‚˜ ë¹¼ê¸°
    if (type === "IN") parkingTime[id] += 1439 - time;
    if (type === "OUT") parkingTime[id] -= 1439 - time;
  });
  const answer = [];
  // 3) Object.entries ì‚¬ìš©í•˜ê¸°
  for (let [car, time] of Object.entries(parkingTime)) {
    if (time <= fees[0]) price = fees[1];
    else price = Math.ceil((time - fees[0]) / fees[2]) * fees[3] + fees[1];
    answer.push([car, price]);
  }
  return answer.sort((a, b) => a[0] - b[0]).map((v) => v[1]);
}
```

ì „ì²´ì ì¸ íë¦„ì€ ê°™ë‹¤. í•˜ì§€ë§Œ ë§µ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì¼ë°˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì˜€ê³  `IN`, `OUT`ì— ë”°ë¥¸
ì‹œê°„ ê³„ì‚°ì„ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ í•˜ì˜€ë‹¤. ì´ì— ëŒ€í•´ ì •ë¦¬í•˜ê³ ì í•œë‹¤.

---

### 1) ì°¨ëŸ‰ë²ˆí˜¸ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ ê°’ìœ¼ë¡œ 0ì„ í• ë‹¹í•˜ê¸°

```javascript
if (!parkingTime[id]) parkingTime[id] = 0;
```

`parkingTime` ê°ì²´ì— `id`ì— í‚¤ì— ëŒ€í•œ ê°’ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ ì‹œê°„ìœ¼ë¡œ 0ì„ í• ë‹¹í•œë‹¤.

---

### 2) IN, OUTì— ë”°ë¼ ê¸°ì¡´ ê°’ì— ì‹œê°„ì„ ë”í•˜ê±°ë‚˜ ë¹¼ê¸°

```javascript
if (type === "IN") parkingTime[id] += 1439 - time;
if (type === "OUT") parkingTime[id] -= 1439 - time;
```

`1439`ì˜ ì˜ë¯¸ë¶€í„° ìƒê°í•˜ì. ì´ëŠ” `23 * 60 + 59`ë‹¤. ì´ê²ƒì€ 23ì‹œ59ë¶„ìœ¼ë¡œ ìë™ì°¨ ì£¼ì°¨ ë¹„ìš©ì´ ê³„ì‚°ë˜ëŠ”
ë§ˆì§€ë§‰ ì‹œê°„ì´ë‹¤. ì´ ê°’ì— ì¶œì°¨ ë˜ëŠ” ì…ì°¨ëœ ì‹œê°„ì„ ëº€ ê°’ì„ `IN`ì¼ ë• ê¸°ì¡´ ì‹œê°„ì— ë”í•˜ê³  `OUT`ì¼ ë• ê¸°ì¡´ ì‹œê°„ì— ëº€ë‹¤.

ì´ëŠ” ìˆ˜ì§ì„ ìœ¼ë¡œ ìƒê°í•˜ë©´ ë” ì´í•´í•˜ê¸° ì‰½ë‹¤.

![programmers_parking_fee_calculation](/image/CodingTest/programmers_parking_fee_calculation/programmers_parking_fee_calculation_arg1.jpeg)

---

### 3) Object.entries ì‚¬ìš©í•˜ê¸°

```javascript
for (let [car, time] of Object.entries(parkingTime)) {
}
```

ì¼ë°˜ ê°ì²´ëŠ” ì´í„°ëŸ¬ë¸”í•˜ì§€ ì•Šì•„ `for...of ë¬¸`ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— `Object.entries()` ë©”ì„œë“œë¥¼
ì‚¬ìš©í•´ ê°ì²´ë¥¼ ì´í„°ëŸ¬ë¸”í•˜ë„ë¡ ë§Œë“  í›„ `for...of ë¬¸`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

---

### ê²°ê³¼

![programmers_parking_fee_calculation_result3](/image/CodingTest/programmers_parking_fee_calculation/programmers_parking_fee_calculation_result3.png)

---

## 6. Conclusion

> ì´ ë¬¸ì œëŠ” ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¼ê¸´ ë³´ë‹¨ êµ¬í˜„ ë¬¸ì œì— ê°€ê¹Œì› ë‹¤. ì •í•´ì§„ ì¡°ê±´ì„ ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ì´í•´í•˜ê³  ì´ë¥¼
> ì½”ë“œë¡œ ì˜®ê¸°ëŠëƒê°€ ê´€ê±´ì´ì—ˆë‹¤. ì¦‰, ì†ë„ê°€ ë¹¨ë¼ì•¼ ë‹¤ìŒ ë¬¸ì œë„ í’€ ìˆ˜ ìˆì„ ë“¯ í•˜ë‹¤. ë¬¸ì œ ìì²´ëŠ” ì–´ë µì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—
> ë§‰íˆëŠ” ë¶€ë¶„ì€ ì—†ì—ˆìœ¼ë‚˜ ì²˜ìŒ ë¬¸ì œë¥¼ ê¼¼ê¼¼íˆ ì½ì§€ ì•Šì•„ ì¤‘ê°„ì— ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ì¼ì´ ìƒê²¼ë‹¤. ì•ìœ¼ë¡œëŠ” ë¬¸ì œ ë¶€í„°
> ê¼¼ê¼¼íˆ ì½ì–´ ê°™ì€ ì‹¤ìˆ˜ë¥¼ í•˜ì§€ ì•Šë„ë¡ í•˜ì.

---

ğŸ“… 2022-09-21
