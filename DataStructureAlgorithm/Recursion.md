# 재귀(Recursion)

## 1. 재귀 함수를 사용하는 이유

먼저, 재귀란? 자신 자신을 호출하는 함수를 말한다. 그렇다면 이런 재귀 함수를 사용하는 이유는 무엇일까?

1. 재귀 함수는 모든 곳에 사용된다.
   - 예를들어 자바스크립트의 `JSON.parse/JSON.stringify`는 재귀적으로 실행된다.
2. 보다 복잡한 데이터 구조에서 재귀를 사용하면 더 간단하게 이해할 수 있다.
3. 때로는 일반적인 순회보다 재귀가 더욱 깔끔해 보일 수 있다.

---

## 2. 재귀 함수의 기본 요소

재귀 함수를 사용하기 위해선 두 가지의 기본 요소를 가춰야 한다. 첫 번째는 `종료 조건`이다. 재귀 함수가 호출 스택에 무한정 쌓이게 된다면 컴퓨터 성능에 악영향을 미치기 때문에 반드시 종료를 할 수 있는 조건이 포함되어야 한다. 두 번째는 `다른 입력값`이다. 재귀 함수를 호출할 때 매번 같은 입력값을 받으며 호출하게 된다면 재귀 함수를 사용하는 의미가 없다. 때문에 매번 다른 입력값을 재귀 함수의 인자로 보내야 한다.

### 2-1. 첫 번째 예제

간단한 예제를 통해 알아보자.

```javascript
function countDown(num) {
  if (num < 1) {
    console.log('완료!');
    return;
  }

  console.log(num);
  num -= 1;
  countDown(num);
}

countDown(5);
```

위 `countDown` 함수는 내부에서 자기 자신을 다시 호출하는 재귀 함수이다. 이 재귀 함수를 바탕으로 기본 요소를 살펴보자.

1. 종료 조건: 인자(num)가 1보다 작을 때
2. 다른 입력값: 함수가 호출 될 때 마다 인자(num)가 1씩 감소한다.

이번엔 표로 `countDown` 함수가 어떻게 호출되는지 살펴보자. 매번 달라지는 인자(num)와 인자에 따른 종료 여부에 집중해보자.

| 순서 | 인자(num) | 콘솔 값 | 종료 여부 |
| ---- | --------- | ------- | --------- |
| 1    | 5         | 5       | x         |
| 2    | 4         | 4       | x         |
| 3    | 3         | 3       | x         |
| 4    | 2         | 2       | x         |
| 5    | 1         | 1       | x         |
| 6    | 0         | 완료!   | o         |

### 2-2. 두 번째 예제

재귀 함수의 또 다른 예제이다.

```javascript
function sumRange(num) {
  if (num === 1) return 1;
  return num + sumRange(num - 1);
}

sumRange(4);
```

`sumRange` 함수의 기본 요소를 살펴보자.

1. 종료 조건: 인자(num)이 1일 때
2. 다른 입력값: 함수가 호출 될 때 마다 인자(num)가 1씩 감소한다.

표로 `sumRange` 함수의 호출을 살펴보자.

| 순서 | 호출 함수   | 반환 값           | 종료 여부 |
| ---- | ----------- | ----------------- | --------- |
| 1    | sumRange(4) | `4 + sumRange(3)` | x         |
| 2    | sumRange(3) | `3 + sumRange(2)` | x         |
| 3    | sumRange(2) | `2 + sumRange(1)` | x         |
| 4    | sumRange(1) | `1`               | o         |

순서가 4일 때 `sumRange(1)`이 호출 되고 인자가 1이기 때문에 이는 `1`를 반환한다.
이어서 차례대로 `sumRange(2)`, `sumRange(3)`, `sumRange(4)`의 값이 반환되어 최종적으로 `10`이 반환된다.
